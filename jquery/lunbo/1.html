<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
</head>

<body>
    <div class="banner">
        <ul class="imglist">
            <li><img src="./images/1.jpg" alt=""></li>
            <li><img src="./images/2.jpg" alt=""></li>
            <li><img src="./images/3.jpg" alt=""></li>
            <li><img src="./images/4.jpg" alt=""></li>
        </ul>
        <div class="img-sw"><img class="prev" src="./images/prev.png" alt=""><img class="next" src="./images/next.png"
                alt=""></div>
        <ul class="indexList">
        </ul>
    </div>
    <style>
        li {
            list-style: none
        }

        .banner {
            width: 500px;
            height: 300px;
            /* border: 1px solid red; */
            margin: 0 auto;
            overflow: hidden;
            position: relative;

        }

        .banner .imglist {
            padding: 0;
            margin: 0;
            width: 2000px;


        }

        .banner .imglist li {

            display: inline-block;
            width: 500px;
            height: 300px;
            float: left;
        }

        .img-sw {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            height: 50px;
        }

        .img-sw img {
            display: inline-block;
            width: 50px;
            height: 50px;
            line-height: 50px;
        }

        .img-sw img:first-child {
            float: left;
        }

        .img-sw img:last-child {
            float: right;
        }

        .indexList {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            text-align: center;
            padding: 0;

        }

        .indexList li {
            width: 20px;
            height: 20px;
            background: #888888;
            border-radius: 50%;
            display: inline-block;
            margin: 0 5px;
        }

        .indexList li.active {
            background: white;
        }
    </style>

    <script>
        $('.imglist li').each(function () {
            $('.indexList').append('<li></li>');
        });
        $('.indexList li').first().addClass('active');
        var old = $('.imglist li');

        $('.indexList li').click(function () {
            $(this).addClass('active').siblings().removeClass('active');
            if ($(this).index() > old.index($('.imglist li:eq(0)'))) {
                old.eq($(this).index()).insertAfter('.imglist li:eq(0)');
                $('.imglist').animate({
                    'margin-left': '-500px'
                }, 500, function () {
                    $('.imglist').css('margin-left', '0').find('li').eq(0).appendTo(
                        '.imglist');
                })
            } else if ($(this).index() < old.index($('.imglist li:eq(0)'))) {
                old.eq($(this).index()).insertBefore('.imglist li:eq(0)');
                $('.imglist').css({
                    'margin-left': '-500px'
                }).animate({
                    'margin-left': '0'
                }, 500)

            }
        })




        $('.next').click(function () {
            var nextIndex = old.index($(".imglist li:eq(0)")) + 1;
            if (nextIndex >= old.length) {
                nextIndex = 0;
            }
            $('.indexList li').eq(nextIndex).addClass('active').siblings().removeClass('active');
            old.eq(nextIndex).insertAfter('.imglist li:eq(0)');

            $('.imglist').animate({
                'marginLeft': '-500px'
            }, 500, function () {
                $('.imglist').css('margin-left', '0').find('li').eq(0).appendTo('.imglist')
            })

        })



        $('.prev').click(function () {
            var prevIndex = old.index($('.imglist li:eq(0)')) - 1;
            if (prevIndex < 0) {
                prevIndex = old.length - 1;
            }
            $('.indexList li').eq(prevIndex).addClass('active').siblings().removeClass('active');

            old.eq(prevIndex).insertBefore('.imglist li:eq(0)');

            $('.imglist').css({
                'margin-left': '-500px'
            }).animate({
                'margin-left': '0'
            }, 500)
        })

    //    鼠标移入时
    var timer = setInterval("$('.next').trigger('click')", 1500);
        $(".banner").hover(function () {
            clearInterval(timer);
        }, function () {
            timer = setInterval("$('.next').trigger('click')", 1500);
        });

    </script>
</body>

</html>